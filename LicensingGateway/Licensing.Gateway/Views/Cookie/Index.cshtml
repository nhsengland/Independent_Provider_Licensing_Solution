@using Domain.Models
@using Licensing.Gateway.Models.Cookies;
@model CookieViewModel

<div class="nhsuk-u-reading-width">

    <h1>Cookie policy</h1>

    <h2>What are cookies?</h2>
    <p>Cookies are files saved on your phone, tablet or computer when you visit a website.</p>
    <p>They store information about how you use the website, such as the pages you visit.</p>
    <p>Cookies are not viruses or computer programs. They are very small so do not take up much space.</p>

    <h2>How we use cookies</h2>
    <p>We only use cookies to:</p>
    <ul>
        <li>make our website work</li>
        <li>measure how you use our website, such as which links you click on (analytics cookies), if you give us permission</li>
    </ul>
    <p>We do not use any other cookies, for example, cookies that remember your settings or cookies that help with health campaigns.</p>
    <p>We sometimes use tools on other organisations' websites to collect data or to ask for feedback. These tools set their own cookies. </p>

    <h2>Cookies that make our website work</h2>
    <p>We use cookies to keep our website secure and fast.</p>
</div>

<details class="nhsuk-details">
    <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
            List of cookies that make our website work
        </span>
    </summary>
    <div class="nhsuk-details__text">

        <div class="nhsuk-table-responsive app-table-responsive--cookies">
            <table class="nhsuk-table">
                <caption class="nhsuk-table__caption nhsuk-u-visually-hidden">Cookie names and purposes</caption>
                <thead class="nhsuk-table__head">
                    <tr class="nhsuk-table__row" role="row">
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Cookie name</th>
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Purpose</th>
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Expiry</th>
                    </tr>
                </thead>
                <tbody class="nhsuk-table__body">
                    <tr class="nhsuk-table__row" role="row">
                        <td class="nhsuk-table__cell" role="cell" data-label="Cookie name">@CookieConstants.CookieName</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Purpose">Remembers if you used our cookies banner</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Expiry">When you close the browser (if you do not use the banner) or 1 year (if you use the banner)</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</details>

<div class="nhsuk-u-reading-width">
    <h2>Cookies that measure website use</h2>
    <p>We also like to use analytics cookies. These cookies store anonymous information about how you use our website, such as which pages you visit or what you click on.</p>
</div>

<details class="nhsuk-details">
    <summary class="nhsuk-details__summary">
        <span class="nhsuk-details__summary-text">
            List of cookies that measure website use
        </span>
    </summary>
    <div class="nhsuk-details__text">

        <div class="nhsuk-table-responsive app-table-responsive--cookies">
            <table class="nhsuk-table">
                <caption class="nhsuk-table__caption nhsuk-u-visually-hidden">Cookie names and purposes</caption>
                <thead class="nhsuk-table__head">
                    <tr class="nhsuk-table__row" role="row">
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Cookie name</th>
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Purpose</th>
                        <th class="nhsuk-table__header" role="columnheader" scope="col">Expiry</th>
                    </tr>
                </thead>
                <tbody class="nhsuk-table__body">
                    <tr class="nhsuk-table__row" role="row">
                        <td class="nhsuk-table__cell" role="cell" data-label="Cookie name">_ga</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Purpose">Used by Google Analytics. Registers a unique ID that is used to generate statistical data on how the visitor uses the website.</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Expiry">2 years</td>
                    </tr>
                    <tr class="nhsuk-table__row" role="row">
                        <td class="nhsuk-table__cell" role="cell" data-label="Cookie name">_ga_&lt;container-id&gt;</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Purpose">Used by Google Analytics. Used to persist session state.</td>
                        <td class="nhsuk-table__cell" role="cell" data-label="Expiry">2 years</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</details>

<div class="nhsuk-u-reading-width">
    <p>We'll only use these cookies if you say it's OK. We'll use a cookie to save your settings.</p>

    <h3>Tell us if we can use analytics cookies</h3>

    @using (Html.BeginForm())
    {
        <div class="nhsuk-form-group">

            <fieldset class="nhsuk-fieldset">

                <div class="nhsuk-radios nhsuk-u-padding-bottom-4">
                    @for (var i = 0; i < Model.Values.Length; i++)
                    {
                        var value = Model.Values[i];
                        var id = $"{nameof(Model.SelectedValue)}-{i}";
                        <div class="nhsuk-radios__item">
                            @Html.RadioButtonFor(m => m.SelectedValue, value, new { id = id, @class = "nhsuk-radios__input" })
                            @Html.LabelFor(m => m.SelectedValue, value, new { @for = id, @class = "nhsuk-label nhsuk-radios__label" })
                        </div>
                    }
                </div>

            </fieldset>

            <div class="nhsuk-grid-row">
                <div class="nhsuk-grid-column-one-quarter">
                    <button class="nhsuk-button" data-module="nhsuk-button" data-prevent-double-click="true" type="submit" asp-action="Index">
                        Save my cookie settings
                    </button>
                </div>
            </div>
        </div>
    }
</div>
